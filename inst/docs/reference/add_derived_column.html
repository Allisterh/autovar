<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Add a new column using data from other columns — add_derived_column • autovar</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
<meta property="og:title" content="Add a new column using data from other columns — add_derived_column" />

<meta property="og:description" content="This function adds a new column, based on existing columns, to all identified groups in the given data set." />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->




  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">autovar</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Add a new column using data from other columns</h1>
    
    <div class="hidden name"><code>add_derived_column.Rd</code></div>
    </div>

    
    <p>This function adds a new column, based on existing columns, to all identified groups in the given data set.</p>
    

    <pre class="usage"><span class='fu'>add_derived_column</span>(<span class='no'>av_state</span>, <span class='no'>name</span>, <span class='no'>columns</span>, <span class='kw'>operation</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"SUM"</span>, <span class='st'>"AVG"</span>, <span class='st'>"LN"</span>,
  <span class='st'>"MINUTES_TO_HOURS"</span>, <span class='st'>"SQUARED"</span>), <span class='kw'>log_level</span> <span class='kw'>=</span> <span class='fl'>0</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>av_state</th>
      <td><p>an object of class <code>av_state</code></p></td>
    </tr>
    <tr>
      <th>name</th>
      <td><p>the name of the new column</p></td>
    </tr>
    <tr>
      <th>columns</th>
      <td><p>the existing columns that the new column will be based on</p></td>
    </tr>
    <tr>
      <th>operation</th>
      <td><p>this argument has three possible values:</p><ul>
<li><p><code>'SUM'</code> - The new column is the sum of the columns specified in the columns argument. So for this option, the columns argument is an array of column names. Values in the summation of columns that are NA are treated as if they're zero. Columns that are not numeric are transformed to numeric. For example, Factor columns are transformed to numbers starting at 0 for the first factor level.</p></li>
<li><p><code>'AVG'</code> - The new column is the average of the columns specified in the columns argument. For each row, the resulting column has the average value of all columns that are not NA on that row, or NA otherwise.</p></li>
<li><p><code>'LN'</code> - The new column is the natural logarithm of the specified column in columns. Thus, for this option, the columns argument is simply the name of a single column. This operation does not work on columns that are not numeric. Values in the original column that are NA are left as NA in the new column. Note that values are increased if necessary so that the resulting column has no negative values.</p></li>
<li><p><code>'MINUTES_TO_HOURS'</code> - The new column is the values of the specified column divided by 60. Thus, for this option, the columns argument is simply the name of a single column. This operation does not work on columns that are not numeric. Values in the original column that are NA are left as NA in the new column.</p></li>
<li><p><code>'SQUARED'</code> - The new column ise the square of the values of the specified column. Thus, for this option, the columns argument is simply the name of a single column. This operation does not work on columns that are not numeric. Values in the original column that are NA are left as NA in the new column.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>log_level</th>
      <td><p>sets the minimum level of output that should be shown (a number between 0 and 3). A lower level means more verbosity. Specify a log_level of 3 to hide messages about converting columns or increasing values for the 'LN' option.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>This function returns the modified <code>av_state</code> object.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='no'>av_state</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='load_file.html'>load_file</a></span>(<span class='st'>"../data/input/RuwedataAngela.sav"</span>)
<span class='no'>av_state</span> <span class='kw'>&lt;-</span> <span class='fu'>add_derived_column</span>(<span class='no'>av_state</span>,<span class='st'>'SomPHQ'</span>,<span class='fu'>c</span>(<span class='st'>'PHQ1'</span>,<span class='st'>'PHQ2'</span>,<span class='st'>'PHQ3'</span>,<span class='st'>'PHQ4'</span>,
                               <span class='st'>'PHQ5'</span>,<span class='st'>'PHQ6'</span>,<span class='st'>'PHQ7'</span>,<span class='st'>'PHQ8'</span>,<span class='st'>'PHQ9'</span>),
                               <span class='kw'>operation</span><span class='kw'>=</span><span class='st'>'SUM'</span>)
<span class='fu'>column_names_output</span>(<span class='no'>av_state</span>)
<span class='no'>av_state</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='load_file.html'>load_file</a></span>(<span class='st'>"../data/input/pp1 nieuw compleet.sav"</span>,<span class='kw'>log_level</span><span class='kw'>=</span><span class='fl'>3</span>)
<span class='no'>av_state</span> <span class='kw'>&lt;-</span> <span class='fu'>add_derived_column</span>(<span class='no'>av_state</span>,<span class='st'>'SomBewegUur'</span>,<span class='st'>'SomBewegen'</span>,
                               <span class='kw'>operation</span><span class='kw'>=</span><span class='st'>'MINUTES_TO_HOURS'</span>)
<span class='no'>av_state</span> <span class='kw'>&lt;-</span> <span class='fu'>add_derived_column</span>(<span class='no'>av_state</span>,<span class='st'>'lnSomBewegUur'</span>,<span class='st'>'SomBewegUur'</span>,
                               <span class='kw'>operation</span><span class='kw'>=</span><span class='st'>'LN'</span>)
<span class='no'>av_state</span>$<span class='no'>data</span><span class='kw'>[[</span><span class='fl'>1</span>]][<span class='fu'>c</span>(<span class='st'>'SomBewegen'</span>,<span class='st'>'SomBewegUur'</span>,<span class='st'>'lnSomBewegUur'</span>)]
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Ando Emerencia.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

